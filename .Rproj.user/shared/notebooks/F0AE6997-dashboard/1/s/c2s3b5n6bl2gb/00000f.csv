"0",""
"0","# install.packages(""plotly"")"
"0","library(plotly)"
"0",""
"0","# Load your data"
"0","state_data <- read_csv(""data/state_sentence.csv"")"
"2","[1mRows: [22m[34m51[39m [1mColumns: [22m[34m2[39m"
"2","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (1): state
[32mdbl[39m (1): num_tax_sentence"
"2","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message."
"0","# Add abbreviations"
"0","state_data <- state_data %>%"
"0","  mutate(state_abbr = state.abb[match(state, state.name)])"
"0",""
"0","# Plot with bright, reversed ""Blues"" scale (light = low, dark = high)"
"0","plot_geo(state_data, locationmode = 'USA-states') %>%"
"0","  add_trace("
"0","    locations = ~state_abbr,"
"0","    z = ~num_tax_sentence,"
"0","    text = ~paste(state_abbr, ""<br>Tax Sentences:"", num_tax_sentence),"
"0","    colorscale = ""Blues"",  # Clean, bright gradient"
"0","    reversescale = TRUE,   # Makes higher values darker blue"
"0","    colorbar = list(title = ""Tax Sentences""),"
"0","    type = 'choropleth',"
"0","    zmin = min(state_data$num_tax_sentence, na.rm = TRUE),"
"0","    zmax = max(state_data$num_tax_sentence, na.rm = TRUE)"
"0","  ) %>%"
"0","  layout("
"0","  geo = list(scope = 'usa'),"
"0","  title = list("
"0","    text = paste0("
"0","      ""Number of Tax Sentence by Different States 2024"""
"0","    ),"
"0","    x = 0.5,"
"0","    xanchor = ""center"","
"0","    y= 0.9"
"0","  ),"
"0","  annotations = list("
"0","    list("
"0","      text = ""Data Source: https://www.ussc.gov/research/data-reports/geography/2024-federal-sentencing-statistics"","
"0","      xref = ""paper"", yref = ""paper"","
"0","      x = 0, y = 0,"
"0","      showarrow = FALSE,"
"0","      font = list(size = 11, color = ""gray"")"
"0","    )"
"0","  )"
"0",")"
